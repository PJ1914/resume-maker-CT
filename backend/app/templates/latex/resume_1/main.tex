\documentclass[a4paper,11pt]{article}

% Packages
\usepackage{latexsym,xcolor,float,ragged2e,wrapfig,lipsum,tabularx,titlesec,geometry,marvosym,verbatim,enumitem,fancyhdr,multicol,graphicx,mathpazo}
\usepackage[T1]{fontenc}
\usepackage{fontawesome5}
\usepackage[hidelinks]{hyperref}

% Colors
\definecolor{primaryColor}{HTML}{\VAR{theme.primary_color|default('00008B')}}
\definecolor{secondaryColor}{HTML}{\VAR{theme.secondary_color|default('4B4B4B')}}

% Page layout
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\geometry{left=1.2cm, top=1cm, right=1.2cm, bottom=1.5cm}

% Hyperlink style
\hypersetup{
    colorlinks=true,
    linkcolor=primaryColor,
    filecolor=primaryColor,
    urlcolor=primaryColor,
}
\urlstyle{same}
\raggedright
\setlength{\tabcolsep}{0in}

% Section formatting
\titleformat{\section}{
  \vspace{6pt}\scshape\raggedright\large
}{}{0em}{}[\color{primaryColor}\titlerule \vspace{-4pt}]

% ATS-Friendly Subheading commands
\newcommand{\resumeSubheading}[4]{
  \item
    \textbf{#1} \hfill {\color{secondaryColor}\small #4} \\
    \textit{\small#3} \hfill {\color{secondaryColor}\small #2}
    \vspace{2pt}
}

\newcommand{\resumeProject}[3]{
  \item
    \textbf{#1} \hfill {\color{secondaryColor}\small #3} \\
    \textit{\small#2}
    \vspace{2pt}
}

\renewcommand{\labelitemi}{$\vcenter{\hbox{\tiny$\bullet$}}$}
\newcommand{\resumeItemListStart}{\begin{itemize}[leftmargin=12pt, itemsep=0pt, topsep=2pt, parsep=2pt]}
\newcommand{\resumeItemListEnd}{\end{itemize}}
\newcommand{\resumeSubHeadingListStart}{\begin{itemize}[leftmargin=0pt, itemsep=8pt, topsep=4pt]}
\newcommand{\resumeSubHeadingListEnd}{\end{itemize}}

% Font
\newcommand{\mainfont}{\fontfamily{ppl}\selectfont}

\begin{document}
\mainfont

% --- HEADER ---
\begin{center}
    {\Huge\textbf{\VAR{full_name|escape_tex}}} \\
    \vspace{2pt}
    \BLOCK{ set has_contact = phone or email or linkedin or github }
    \BLOCK{ if has_contact }
    \small{
        \BLOCK{ if phone }
        \faPhone\ \VAR{phone|escape_tex}\BLOCK{ if email or linkedin or github } \textbar{}\BLOCK{ endif }
        \BLOCK{ endif }
        \BLOCK{ if email }
        \faEnvelope\ \href{mailto:\VAR{email}}{\VAR{email|escape_tex}}\BLOCK{ if linkedin or github } \textbar{}\BLOCK{ endif }
        \BLOCK{ endif }
        \BLOCK{ if linkedin }
        \faLinkedin\ \href{\VAR{linkedin}}{LinkedIn}\BLOCK{ if github } \textbar{}\BLOCK{ endif }
        \BLOCK{ endif }
        \BLOCK{ if github }
        \faGithub\ \href{\VAR{github}}{GitHub}
        \BLOCK{ endif }
    } \\
    \BLOCK{ endif }
    \BLOCK{ if location }
    \small{\VAR{location|escape_tex}}
    \BLOCK{ endif }
\end{center}

% --- SUMMARY ---
\BLOCK{ if summary }
\section*{Professional Summary}
\noindent \VAR{summary|escape_tex}
\BLOCK{ endif }

% --- EXPERIENCE ---
\BLOCK{ if experience }
\section{Experience}
\resumeSubHeadingListStart

\BLOCK{ for exp in experience }
  \resumeSubheading
    {\VAR{exp.company|escape_tex}}{\VAR{exp.location|escape_tex}}
    {\VAR{exp.position|escape_tex}}{\VAR{exp.start_date|escape_tex}\BLOCK{ if exp.start_date and exp.end_date } -- \BLOCK{ endif }\VAR{exp.end_date|escape_tex}}
    \BLOCK{ if exp.description or exp.highlights }
    \resumeItemListStart
        \BLOCK{ if exp.description }
        \item \VAR{exp.description|escape_tex}
        \BLOCK{ endif }
        \BLOCK{ for highlight in exp.highlights }
        \item \VAR{highlight|escape_tex}
        \BLOCK{ endfor }
    \resumeItemListEnd
    \BLOCK{ endif }
\BLOCK{ endfor }

\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- PROJECTS ---
\BLOCK{ if projects }
\section{Projects}
\resumeSubHeadingListStart

\BLOCK{ for proj in projects }
    \resumeProject
        {\VAR{proj.name|escape_tex}}
        {\VAR{proj.technologies|join(', ')|escape_tex}}
        {\VAR{proj.start_date|escape_tex}\BLOCK{ if proj.start_date and proj.end_date } -- \BLOCK{ endif }\VAR{proj.end_date|escape_tex}}
        \BLOCK{ if proj.description or proj.highlights or proj.link }
        \resumeItemListStart
            \BLOCK{ if proj.description }
            \item \VAR{proj.description|escape_tex}
            \BLOCK{ endif }
            \BLOCK{ for highlight in proj.highlights }
            \item \VAR{highlight|escape_tex}
            \BLOCK{ endfor }
            \BLOCK{ if proj.link }
            \item \href{\VAR{proj.link}}{Project Link}
            \BLOCK{ endif }
        \resumeItemListEnd
        \BLOCK{ endif }
\BLOCK{ endfor }

\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- TECHNICAL SKILLS ---
\BLOCK{ if skills }
\section{Technical Skills}
\resumeSubHeadingListStart
    \BLOCK{ for skill in skills }
    \item \textbf{\VAR{skill.category|escape_tex}:} \VAR{skill.items|join(', ')|escape_tex}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- CERTIFICATIONS ---
\BLOCK{ if certifications }
\section{Certifications}
\resumeSubHeadingListStart
    \BLOCK{ for cert in certifications }
    \item \textbf{\VAR{cert.name|escape_tex}} -- \VAR{cert.issuer|escape_tex} \hfill {\color{secondaryColor}\small \VAR{cert.date|escape_tex}}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- LANGUAGES ---
\BLOCK{ if languages }
\section{Languages}
\resumeSubHeadingListStart
    \BLOCK{ for lang in languages }
    \item \textbf{\VAR{lang.language|escape_tex}:} \VAR{lang.proficiency|escape_tex}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- ACHIEVEMENTS ---
\BLOCK{ if achievements }
\section{Achievements}
\resumeSubHeadingListStart
    \BLOCK{ for ach in achievements }
    \item \textbf{\VAR{ach.title|escape_tex}} \hfill {\color{secondaryColor}\small \VAR{ach.date|escape_tex}} \\
    \textit{\small \VAR{ach.description|escape_tex}}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- EDUCATION ---
\BLOCK{ if education }
\section{Education}
\resumeSubHeadingListStart
\BLOCK{ for edu in education }
    \resumeSubheading
        {\VAR{edu.institution|escape_tex}}{\VAR{edu.location|escape_tex}}
        {\VAR{edu.degree|escape_tex} in \VAR{edu.field|escape_tex} \BLOCK{ if edu.gpa }, GPA: \VAR{edu.gpa|escape_tex}\BLOCK{ endif }}{\VAR{edu.start_date|escape_tex}\BLOCK{ if edu.start_date and edu.end_date } -- \BLOCK{ endif }\VAR{edu.end_date|escape_tex}}
\BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

\end{document}
