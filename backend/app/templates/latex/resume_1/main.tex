\documentclass[a4paper,11pt]{article}

% Packages
\usepackage{latexsym,xcolor,float,ragged2e,wrapfig,lipsum,tabularx,titlesec,geometry,marvosym,verbatim,enumitem,fancyhdr,multicol,graphicx}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{fontawesome5}
\usepackage[hidelinks]{hyperref}

% Colors
\definecolor{primaryColor}{HTML}{\VAR{theme.primary_color|default('00008B')}}
\definecolor{secondaryColor}{HTML}{\VAR{theme.secondary_color|default('4B4B4B')}}

% Page layout
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\geometry{left=1.2cm, top=1cm, right=1.2cm, bottom=1.5cm}

% Hyperlink style
\hypersetup{
    colorlinks=true,
    linkcolor=primaryColor,
    filecolor=primaryColor,
    urlcolor=primaryColor,
}
\urlstyle{same}
\raggedright
\setlength{\tabcolsep}{0in}

% Section formatting
\titleformat{\section}{
  \scshape\raggedright\large
}{}{0em}{}[\color{primaryColor}\titlerule \vspace{-5pt}]

% ATS-Friendly Subheading commands
\newcommand{\resumeSubheading}[4]{
  \item
    \textbf{#1} \hfill {\color{secondaryColor}\small #4} \\
    \textit{\small#3} \hfill {\color{secondaryColor}\small #2}
    \vspace{-2pt}
}

\renewcommand{\labelitemi}{$\vcenter{\hbox{\tiny$\bullet$}}$}
\newcommand{\resumeItemListStart}{\begin{itemize}[leftmargin=12pt, label={--}, itemsep=1pt, topsep=0pt, parsep=0pt]}
\newcommand{\resumeItemListEnd}{\end{itemize}\vspace{0pt}}
\newcommand{\resumeSubHeadingListStart}{\begin{itemize}[leftmargin=0pt, itemsep=2pt, topsep=0pt, parsep=0pt]}
\newcommand{\resumeSubHeadingListEnd}{\end{itemize}\vspace{0pt}}

\begin{document}

% --- HEADER ---
\begin{center}
    {\Huge\textbf{\VAR{full_name|escape_tex}}} \\
    \vspace{0pt}
    \BLOCK{ set has_contact = phone or email or linkedin or github or website or leetcode or codechef or hackerrank }
    \BLOCK{ if has_contact }
    \small{
        \BLOCK{ if phone }
        \faPhone\ \VAR{phone|escape_tex} \textbar{}
        \BLOCK{ endif }
        \BLOCK{ if email }
        \faEnvelope\ \href{mailto:\VAR{email}}{Gmail} \textbar{}
        \BLOCK{ endif }
        \BLOCK{ if linkedin }
        \faLinkedin\ \href{https://\VAR{linkedin|replace('https://', '')|replace('http://', '')}}{LinkedIn}
        \BLOCK{ endif }
        \BLOCK{ if github }
        \textbar{} \faGithub\ \href{https://\VAR{github|replace('https://', '')|replace('http://', '')}}{GitHub}
        \BLOCK{ endif }
    } \\
    \BLOCK{ if website or leetcode or codechef or hackerrank }
    \small{
        \BLOCK{ if website }
        \faGlobe\ \href{https://\VAR{website|replace('https://', '')|replace('http://', '')}}{Portfolio}
        \BLOCK{ endif }
        \BLOCK{ if leetcode }
        \textbar{} \faCode\ \href{https://\VAR{leetcode|replace('https://', '')|replace('http://', '')}}{LeetCode}
        \BLOCK{ endif }
        \BLOCK{ if codechef }
        \textbar{} \faUtensils\ \href{https://\VAR{codechef|replace('https://', '')|replace('http://', '')}}{CodeChef}
        \BLOCK{ endif }
        \BLOCK{ if hackerrank }
        \textbar{} \faHackerrank\ \href{https://\VAR{hackerrank|replace('https://', '')|replace('http://', '')}}{HackerRank}
        \BLOCK{ endif }
    } \\
    \BLOCK{ endif }
    \BLOCK{ endif }
    \BLOCK{ if location }
    \small{\VAR{location|escape_tex}}
    \BLOCK{ endif }
\end{center}

% --- SUMMARY ---
\BLOCK{ if summary }
\vspace{-8pt}
\section*{Professional Summary}
\noindent \VAR{summary|escape_tex}
\BLOCK{ endif }

% --- EDUCATION ---
\BLOCK{ if education }
\vspace{-6pt}
\section{Education}
\resumeSubHeadingListStart
\BLOCK{ for edu in education }
    \item
    \textbf{\VAR{edu.school|escape_tex}}\BLOCK{ if edu.location }, \VAR{edu.location|escape_tex}\BLOCK{ endif } \hfill {\color{secondaryColor}\small \VAR{edu.start_date|escape_tex}\BLOCK{ if edu.start_date and edu.end_date } - \BLOCK{ endif }\VAR{edu.end_date|escape_tex}} \\
    {\small \VAR{edu.degree|escape_tex}\BLOCK{ if edu.field } in \VAR{edu.field|escape_tex}\BLOCK{ endif }}
    \BLOCK{ if edu.gpa }
    \\
    {\small \BLOCK{ if edu.grade_type }\VAR{edu.grade_type|escape_tex}\BLOCK{ else }GPA/CGPA\BLOCK{ endif }: \VAR{edu.gpa|escape_tex}\BLOCK{ if edu.grade_type == 'Percentage' }\%\BLOCK{ endif }}
    \BLOCK{ endif }
\BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- EXPERIENCE ---
\BLOCK{ if experience }
\vspace{-6pt}
\section{Experience}
\resumeSubHeadingListStart

\BLOCK{ for exp in experience }
  \resumeSubheading
    {\VAR{exp.company|escape_tex}}{\VAR{exp.location|escape_tex}}
    {\VAR{exp.position|escape_tex}}{\VAR{exp.start_date|escape_tex}\BLOCK{ if exp.start_date and exp.end_date } -- \BLOCK{ endif }\VAR{exp.end_date|escape_tex}}
    \BLOCK{ if exp.description or exp.highlights }
    \resumeItemListStart
        \BLOCK{ if exp.description }
        \item \VAR{exp.description|escape_tex}
        \BLOCK{ endif }
        \BLOCK{ for highlight in exp.highlights }
        \item \VAR{highlight|escape_tex}
        \BLOCK{ endfor }
    \resumeItemListEnd
    \BLOCK{ endif }
\BLOCK{ endfor }

\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- PROJECTS ---
\BLOCK{ if projects }
\vspace{-6pt}
\section{Projects}
\resumeSubHeadingListStart

\BLOCK{ for proj in projects }
    \item
    \textbf{\VAR{proj.name|escape_tex}} \hfill {\color{secondaryColor}\small \VAR{proj.start_date|escape_tex}\BLOCK{ if proj.start_date and proj.end_date } - \BLOCK{ endif }\VAR{proj.end_date|escape_tex}} \\
    \BLOCK{ if proj.technologies }
    {\small\textit{\VAR{proj.technologies|join(', ')|escape_tex}}}\BLOCK{ if proj.link } \textbar{} \href{https://\VAR{proj.link|replace('https://', '')|replace('http://', '')}}{\small\faExternalLinkAlt\ Link}\BLOCK{ endif }
    \BLOCK{ endif }
    \BLOCK{ if proj.description or proj.highlights }
    \resumeItemListStart
        \BLOCK{ if proj.description }
        \item \VAR{proj.description|escape_tex}
        \BLOCK{ endif }
        \BLOCK{ for highlight in proj.highlights }
        \item \VAR{highlight|escape_tex}
        \BLOCK{ endfor }
    \resumeItemListEnd
    \BLOCK{ endif }
    \vspace{2pt}
\BLOCK{ endfor }

\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- TECHNICAL SKILLS ---
\BLOCK{ if skills }
\vspace{-6pt}
\section{Technical Skills}
\resumeSubHeadingListStart
    \BLOCK{ for skill in skills }
    \item \textbf{\VAR{skill.category|escape_tex}:} \VAR{skill.items|join(', ')|escape_tex}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- CERTIFICATIONS ---
\BLOCK{ if certifications }
\vspace{-6pt}
\section{Certifications}
\resumeSubHeadingListStart
    \BLOCK{ for cert in certifications }
    \item \textbf{\VAR{cert.name|escape_tex}} -- \VAR{cert.issuer|escape_tex} \hfill {\color{secondaryColor}\small \VAR{cert.date|escape_tex}}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- LANGUAGES ---
\BLOCK{ if languages }
\vspace{-6pt}
\section{Languages}
\resumeSubHeadingListStart
    \BLOCK{ for lang in languages }
    \item \textbf{\VAR{lang.language|escape_tex}:} \VAR{lang.proficiency|escape_tex}
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

% --- ACHIEVEMENTS ---
\BLOCK{ if achievements }
\vspace{-6pt}
\section{Achievements}
\resumeSubHeadingListStart
    \BLOCK{ for ach in achievements }
    \item
    \textbf{\VAR{ach.title|escape_tex}}\BLOCK{ if ach.date } \hfill {\color{secondaryColor}\small \VAR{ach.date|escape_tex}}\BLOCK{ endif }
    \BLOCK{ if ach.highlights }
        \resumeItemListStart
        \BLOCK{ for highlight in ach.highlights }
            \item \small \VAR{highlight}
        \BLOCK{ endfor }
        \resumeItemListEnd
    \BLOCK{ elif ach.description }
         -- {\small \VAR{ach.description|escape_tex}}
    \BLOCK{ endif }
    \BLOCK{ endfor }
\resumeSubHeadingListEnd
\BLOCK{ endif }

\end{document}
